{% extends 'base.html' %}
{% block title %}Accueil – StopVerifAge{% endblock %}
{% block content %}
<div class="text-center mb-4">
  <h1>Protégez votre vie privée en ligne</h1>
  <p class="lead">Cet outil recense les sites qui exigent un contrôle d'identité et propose des alternatives respectueuses de votre anonymat.</p>
</div>
<!-- Search form -->
<form class="row gy-2 gx-3 align-items-end mb-4" method="get" action="{{ url_for('sites') }}">
  <div class="col-md-8">
    <label for="q" class="visually-hidden">Recherche</label>
    <input type="text" class="form-control form-control-lg" id="q" name="q" placeholder="Recherchez un site…">
  </div>
  <div class="col-md-4 d-grid">
    <button type="submit" class="btn btn-primary btn-lg">Chercher</button>
  </div>
</form>
<!-- Catégories -->
<h2>Catégories couvertes</h2>
<p>
  {% for cat in categories %}
    <a href="{{ url_for('sites', category=cat) }}" class="badge bg-info text-dark text-decoration-none me-1">{{ cat }}</a>
  {% endfor %}
</p>

<!-- Sites récents -->
<h2 class="mt-5">Sites récemment ajoutés</h2>
<div class="table-responsive">
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Nom du site</th>
        <th>Tags</th>
        <th>Méthode</th>
      </tr>
    </thead>
    <tbody>
      {% for site in recent_sites %}
        <tr>
          <td><a href="{{ url_for('site_detail', site_id=site['id']) }}">{{ site['name'] }}</a></td>
          <td>
            <span class="badge bg-info text-dark me-1">{{ site['category'] }}</span>
            <span class="badge bg-warning text-dark">{{ site['country'] }}</span>
          </td>
          <td>{{ site['verification_type'] }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}